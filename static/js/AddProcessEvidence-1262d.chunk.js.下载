webpackJsonp([58],{2082:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(419),o=function(e){return e&&e.__esModule?e:{default:e}}(s),i=function(e){function t(e){a(this,t);var n=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={show:n.props.show},n}return c(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({show:e.show})}},{key:"render",value:function(){return o.default.createElement("div",{className:"view-image"},this.state.show?o.default.createElement("div",{className:"model-image"},o.default.createElement("div",{className:"pic-box"},o.default.createElement("div",{className:"spinner-loading"},o.default.createElement("div",{className:"spinner-container container1"},o.default.createElement("div",{className:"circle1"}),o.default.createElement("div",{className:"circle2"}),o.default.createElement("div",{className:"circle3"}),o.default.createElement("div",{className:"circle4"})),o.default.createElement("div",{className:"spinner-container container2"},o.default.createElement("div",{className:"circle1"}),o.default.createElement("div",{className:"circle2"}),o.default.createElement("div",{className:"circle3"}),o.default.createElement("div",{className:"circle4"})),o.default.createElement("div",{className:"spinner-container container3"},o.default.createElement("div",{className:"circle1"}),o.default.createElement("div",{className:"circle2"}),o.default.createElement("div",{className:"circle3"}),o.default.createElement("div",{className:"circle4"}))),o.default.createElement("p",null,this.props.title?this.props.title:"正在取证中..."))):"")}}]),t}(s.Component);t.default=i},2554:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){return function(n){return new M.default(n).getWithParams("/attestations/url/list",e,function(e){n({type:L.default.GET_EVIDENCE,lists:e}),t&&t()})}}function c(e,t){return function(n){return new M.default(n).getWithParams("/attestations/url/list",e,function(e){n({type:L.default.GET_EVIDENCE_MOBILE,lists:e}),t&&t()})}}function l(e,t,n){return function(a){new M.default(a).post("/attestations/url",e,function(e){t&&t(e)},function(e){n&&n(),I.toastr.error(e.message)})}}function s(e,t,n){return function(a){new M.default(a).post("/netcourt/sign",e,function(e){t&&t(e)},function(e){n&&n(),I.toastr.error(e.message)})}}function o(e,t,n,a){return function(t){new M.default(t).post("/attestations/url/excepBack",e,function(e){n&&n(),I.toastr.success("感谢您的反馈，审核结果将尽快通过系统消息通知")},function(e){a&&a(),I.toastr.error(e.message)})}}function i(e,t){return function(n){new M.default(n).post("/processevidence/getUserAllList",e,function(e){n({type:L.default.GET_ALL_EVIDENCE,list:e}),t&&t()})}}function u(e,t){return function(n){new M.default(n).post("/processevidence/list",e,function(e){n({type:L.default.GET_PROCESS_EVIDENCE,list:e}),t&&t()})}}function f(e,t){return function(n){new M.default(n).post("/processevidence/list",e,function(e){n({type:L.default.GET_PROCESS_EVIDENCE_MOBILE,list:e}),t&&t()})}}function d(){return function(e){new M.default(e).get("/processevidence/freeCount",function(t){e({type:L.default.GET_PROCESS_FREE_TIME,list:t})})}}function p(){return function(e){new M.default(e).get("/processevidence/getLabelList",function(t){e({type:L.default.GET_PROCESS_LABEL,list:t})})}}function m(e,t,n){return function(a){new M.default(a).post("/processevidence/create",e,function(e){t&&t(e)},function(e){n&&n(),I.toastr.error(e.message)})}}function E(e,t,n){return function(a){new M.default(a).post("/processevidence/create",e,function(e){t&&t(e)},function(e){n&&n(),I.toastr.error(e.message)})}}function v(e,t,n){return function(a){new M.default(a).post("/processevidence/delete",e,function(){t&&t(),I.toastr.success("取消取证成功")},function(e){I.toastr.error(e.message),n&&n()})}}function h(e,t){return function(n){new M.default(n).getWithParams("/processevidence/view",e,function(e){n({type:L.default.GET_PROCESS_PREVIEW,list:e}),t&&t(e)})}}function y(e,t){return function(n){new M.default(n).getWithParams("/processevidence/update",e,function(e){t&&t(e)})}}function b(e,t){return function(n){new M.default(n).getWithParams("/processevidence/reStart",e,function(e){t&&t(e)})}}function g(e,t){return function(n){new M.default(n).getWithParams("/processevidence/cancel",e,function(e){t&&t(),I.toastr.success("取消过程取证成功")})}}function w(e,t,n){return function(a){new M.default(a).post("/processevidence/finished",e,function(e){t&&t(e),I.toastr.success("结束取证成功")},function(e){n&&n(),I.toastr.error(e.message)})}}function N(e,t){return function(n){new M.default(n).getWithParams("/processevidence/result",e,function(a){n({type:L.default.GET_PROCESS_RESULT,list:a,params:e}),t&&t(a)})}}function P(e,t){return function(n){new M.default(n).getWithParams("/processevidence/getDate",e,function(e){n({type:L.default.GET_PROCESS_SERVER_TIME,list:e}),t&&t(e)})}}function _(e,t,n){return function(a){new M.default(a).post("/processevidence/excepBack",e,function(r){a({type:L.default.SEND_PROCESS_FEEDBACK,list:r,params:e,evidenceType:t}),n&&n(r),I.toastr.success("感谢您的反馈，审核结果将尽快通过系统消息通知")})}}function T(e,t,n){return function(a){return new M.default(a).destroy("/attestations/url/"+e,function(e){a({type:L.default.DELETE_EVIDENCE,lists:e}),I.toastr.success(R.default.translate("actions.delete-success")),t()},function(e){I.toastr.error(e.message),n&&n()})}}function O(e,t,n){return function(a){return new M.default(a).post("/processevidence/deleteData",e,function(e){I.toastr.success(R.default.translate("actions.delete-success")),t()},function(e){I.toastr.error(e.message),n&&n()})}}function S(e,t,n){return function(a){new M.default(a).getWithParams("/processevidence/updateLabel",e,function(){I.toastr.success("修改标签成功"),t&&t()},function(e){n&&n(),I.toastr.error(e.message)})}}function C(e,t,n){return function(a){new M.default(a).post("/processevidence/copy",e,function(e){t&&t(e)},function(e){n&&n(),I.toastr.error(e.message)})}}Object.defineProperty(t,"__esModule",{value:!0}),t.findEvidence=r,t.findMobileEvidence=c,t.postEvidence=l,t.validateEvidenceOfHZHLWFY=s,t.reOpenUrlEvidence=o,t.getAllEvidence=i,t.getProcessEvidence=u,t.getMobileProcessEvidence=f,t.getProcessTime=d,t.getProcessLabel=p,t.postProcessEvidence=m,t.postMobileEvidence=E,t.postCancelProcessEvidence=v,t.PreviewProcess=h,t.beginProcess=y,t.againProcess=b,t.cancelProcess=g,t.FinishedProcess=w,t.getProcessResult=N,t.getServerTime=P,t.sendProcessFeedback=_,t.deleteEvidence=T,t.deleteProcessEvidence=O,t.editEvidenceLabel=S,t.postCopyWord=C;var x=n(861),L=a(x),k=n(862),M=a(k),I=n(709),U=n(708),R=a(U)},2701:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s,o,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),f=n(419),d=a(f),p=n(708),m=a(p),E=n(1085),v=a(E),h=n(1083),y=a(h),b=n(2554),g=n(1086),w=a(g),N=n(949),P=a(N),_=n(1087),T=n(1038),O=n(2082),S=a(O),C=n(2297),x=a(C),L=n(2233),k=a(L),M=n(867),I=a(M),U=n(870),R=a(U),j=n(2294),W=a(j),F=n(865),D=a(F),q=n(709),G=n(1084),B=a(G),V=["name","remark"],A=void 0,X=!1,H="",J=!1,K="",Y=!1,Z=!1,z=!1,Q=!1,$=void 0,ee=function(e){return new y.default(e).nonEmptySpecial("name","取证名称").nonSpecial("remark","备注信息").errors},te={showError:{display:"block"},flexItems:{display:"flex",alignItems:"center"},flexItemsRight:{display:"flex",alignItems:"center",marginRight:"30px"},showErrorTip:{display:"block",top:"auto",bottom:"-15px"}},ne=(s=(0,T.reduxForm)({form:"add-process-evidence",fields:V,validate:ee},function(e){return{params:e.router.params,processLabel:e.evidence.processLabel,processFreeTime:e.evidence.processFreeTime,user:e.user.kycs,onSubmit:function(t,n){if("baoquan"!==$.type&&"baoquan-mobile"!==$.type)q.toastr.error("请选择安卓模拟器");else{var a=e.evidence.processFreeTime,r=P.default.get("0.00"),c=a?Number(r.format(a.freeBalance)):-1,l=a.freeMinute||0;if(z)return!1;var s=!0;if("CLIENT_SON"===D.default.userIdentity?l<10&&(s=!1):l<10&&c<50&&(s=!1),!s)return Q=!0,$.forceUpdate(),!1;X=!0,n((0,b.postProcessEvidence)({name:t.name,label:H,remark:t.remark,nodeGroup:$.type,type:"PC"},function(e){X=!1,Y=!1,K=e.id,Z=!0,R.default.cleanProcessOverdrafts(),R.default.cleanProcessOverContinue(),R.default.cleanProcessMoney(),R.default.cleanProcessMoneyContinue(),R.default.cleanPay(),$.forceUpdate()},function(){return X=!1,$.forceUpdate(),!1}))}}}}))(o=function(e){function t(e){r(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={loading:!0,showDisableModal:!1,date:null},n.componentWillUnmount=function(){n.forceUpdate(),H=""},n.createFilter=function(e){var t=0;return function(a){if(0===a.value.toLowerCase().indexOf(e.toLowerCase()))return t+=1,n.newTag="",n.forceUpdate(),0===a.value.toLowerCase().indexOf(e.toLowerCase());0===t&&(n.newTag=e,n.forceUpdate())}},n.handleSelect=function(e){H=e.value,J=!1,n.forceUpdate(),""!==H&&n.validateLabel("select")},n.changeTag=function(e){var t=e.replace(/\s*/g,"");H=t,n.newTag=t,J=!1,n.forceUpdate(),""!==H&&n.validateLabel()},n.validateLabel=function(e){Y=!1,n.forceUpdate(),B.default.isSpecialWord(H)?(z=!0,n.forceUpdate()):(z=!1,n.forceUpdate(),"select"!==e&&""!==H&&(J=!0,setTimeout(function(){J=!1,n.forceUpdate()},3e3)))},n.changeWebTag=function(){},n.disableModal=function(){Q=!1,n.forceUpdate()},n.toPay=function(){Q=!1,n.forceUpdate(),n.props.dispatch((0,I.default)("/pay"))},n.jumpEvidence=function(){Z=!1,n.props.dispatch((0,I.default)("/evidences-all")),window.open("/evidences/process/queue/"+K)},n.closeJumpEvidence=function(){n.props.dispatch((0,b.postCancelProcessEvidence)({id:K},function(){Z=!1,n.forceUpdate()},function(){Z=!1,n.forceUpdate()})),n.forceUpdate()},n.changeType=function(e){n.type=e,n.forceUpdate()},n.handleSubmit=function(){Y=""===H,n.props.handleSubmit()},n.newTag="",n.type="baoquan",n}return l(t,e),u(t,[{key:"componentDidMount",value:function(){$=this,this.props.dispatch((0,b.getProcessLabel)()),this.props.dispatch((0,b.getProcessTime)())}},{key:"querySearch",value:function(e,t){var n=this.props.processLabel;if(n&&n.length>0){t(e?n.filter(this.createFilter(e)):n)}else{t(e?n.filter(this.createFilter(e)):n),this.newTag=e}}},{key:"render",value:function(){var e=this,t=this.props,n=t.fields,a=n.name,r=n.remark;return A=t.processFreeTime.freeMinute,d.default.createElement("div",{className:"container-wrapper "},d.default.createElement("div",{className:"container member-container evidences-container"},d.default.createElement("p",{className:"table-name"},d.default.createElement(W.default,{title:"新增过程取证"}),d.default.createElement("span",{className:"price-tip"},d.default.createElement("span",null,"（当前取证套餐剩余 "),d.default.createElement("span",{className:"count"},A),d.default.createElement("span",null," 分钟）"))),d.default.createElement("div",{className:"description back-ctn"},d.default.createElement("div",{style:{display:"flex",alignItems:"center"}},d.default.createElement("span",null,"由保全网为您进行过程取证并进行区块链证据固定。"))),d.default.createElement("hr",{className:"back-hr"}),d.default.createElement("article",{className:"ctn evidence-ctn evidence-process-content back-ctn"},d.default.createElement("div",{style:{display:"flex"},className:"main-container"},d.default.createElement("form",{className:"evidencesForm",autoComplete:"off"},d.default.createElement("article",null,d.default.createElement("section",null,d.default.createElement("span",{className:"item must"},"取证名称"),d.default.createElement(w.default,i({placeholder:"请输入取证名称 例如：XXXXX案件取证",type:"text"},v.default.extract(a),{file:a}))),d.default.createElement("section",null,d.default.createElement("span",{className:"item must"},"取证标签"),d.default.createElement("div",{className:"column-input input-component"},d.default.createElement(_.AutoComplete,{className:"my-autocomplete",placeholder:"请输入标签名，标签可用于后期证据分类和筛选",value:H,fetchSuggestions:this.querySearch.bind(this),onSelect:function(t){return e.handleSelect(t)},onChange:function(t){return e.changeTag(t)},onBlur:function(){return e.changeWebTag()}}),z?d.default.createElement("span",{className:"show-error"},"输入的",d.default.createElement("b",null,"取证标签"),"不得包含特殊字符\"'<>","[]"):"",d.default.createElement("span",{className:"new-tag",style:this.newTag&&J?te.showError:null},"已创建新标签“"+this.newTag+"”新标签，提交成功后收录标签库"),Y?d.default.createElement("span",{className:"show-error"},"请输入或选择取证标签"):"")),d.default.createElement("section",null,d.default.createElement("span",{className:"item must",style:{marginLeft:-16}},"安卓模拟器"),d.default.createElement("div",{style:te.flexItems},d.default.createElement("div",{style:te.flexItemsRight,onClick:function(){return e.changeType("baoquan")}},d.default.createElement("input",{name:"type",style:{marginLeft:16},type:"radio",value:"baoquan",checked:"baoquan"===this.type}),d.default.createElement("label",{htmlFor:"",style:{marginLeft:"4px"}},"不需要")),d.default.createElement("div",{style:te.flexItems,onClick:function(){return e.changeType("baoquan-mobile")}},d.default.createElement("input",{name:"type",type:"radio",value:"baoquan-mobile",checked:"baoquan-mobile"===this.type}),d.default.createElement("label",{htmlFor:"",style:{marginLeft:"4px"}},"需要")))),d.default.createElement("section",{className:"remarks"},d.default.createElement("span",{className:"item"},"备注信息"),d.default.createElement("div",{className:"evidence-column-textarea"},d.default.createElement("textarea",i({rows:"4",maxLength:"200"},v.default.extract(r),{placeholder:m.default.translate("evidence.write-remarks"),value:i({},v.default.extract(r)).value})),d.default.createElement("span",{className:"error-text",style:i({},v.default.extract(r)).errorText?te.showErrorTip:null},i({},v.default.extract(r)).errorText))),d.default.createElement("section",{className:"button-group remarks"},d.default.createElement("span",{style:{opacity:0},className:"item"},m.default.translate("evidence.remarks")),d.default.createElement(x.default,{className:"yes",type:"button",onClick:this.handleSubmit,label:"立即取证",loadingLabel:"取证中..."}),d.default.createElement(S.default,{show:X,title:"正在取证中..."})))),d.default.createElement("div",{className:"process-tip",style:{maxHeight:"290px"}},d.default.createElement("p",{className:"process-title"},"温馨提醒"),d.default.createElement("div",{className:"process-content"},d.default.createElement("p",null,"1、取证开始前请阅读",d.default.createElement("a",{href:"/evidences/operation",className:"blue-text",target:"_blank"},"操作手册"),"，尽量在保证网络稳定的条件下取证；"),d.default.createElement("p",null,"2、取证中登录第三方平台输入账号密码时，注意密码的隐藏以防随视频公开而外泄；"),d.default.createElement("p",null,"3、系统将录制您所有的取证操作形成视频证据，并将其固定至区块链，请不要进行与取证无关甚至违法操作；"),d.default.createElement("p",null,"4、若因网络断开等原因中断取证，请尽快重新进入保全网，在取证列表中点击【进入取证】继续操作；"),d.default.createElement("p",null,"5、手动点击【结束取证】关闭退出，否则系统将继续消耗余额，直到宝泉币消耗完毕。")))))),Q===!0?"TEAM_SON"===D.default.userIdentity||"CLIENT_SON"===D.default.userIdentity?d.default.createElement(k.default,{tip:"很抱歉，您的余额少于50个宝泉币，且可用时长少于10分钟无法取证，请充值后再试",title:"取证余额不足",hideModel:this.disableModal}):d.default.createElement(k.default,{tip:"很抱歉，您的余额少于50个宝泉币，且可用时长少于10分钟无法取证，请充值后再试",title:"取证余额不足",hideModel:this.disableModal,confirmWord:"充值",confirm:this.toPay}):"",Z===!0?d.default.createElement(k.default,{tip:"即将进入取证页面，请点击下方按钮确认",title:"取证确认",hideModel:this.closeJumpEvidence,confirm:this.jumpEvidence,confirmWord:"立即前往",confirmOrder:1}):"")}}]),t}(f.Component))||o;t.default=ne}});